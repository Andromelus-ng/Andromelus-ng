
var Solid=0;
var RoundAct=1;
var StopPlay=false;
var VaisseauxRP=new Array();
var DefRef=new Array();
var NomOP='';

var Unites = new Array();
Unites.timeunits = new Array();
Unites.timeunits.short = new Array();
Unites.timeunits['short'].week = 'sem';
Unites.timeunits['short'].day = 'j';
Unites.timeunits['short'].hour = 'h';
Unites.timeunits['short'].minute = 'm';
Unites.timeunits['short'].second = 's';
Unites.status = new Array();
Unites.status.ready = 'terminé';

Unites['decimalPoint'] = ",";
Unites['thousandSeperator'] = ".";
Unites['unitKilo'] = 'k';
Unites['unitMega'] = 'M';
Unites['unitGiga'] = 'G';
Unites['unitTera'] = 'T';
Unites['unitPeta'] = 'P';

function isNormalInteger(str) {
    var n = Math.floor(Number(str));
    return n !== Infinity && String(n) === str && n >= 0;
}

function Stop(){
	StopPlay=true;
}
function Play(){
	StopPlay=false;
	if(RoundAct==Rounds.length-1){
		RoundAct=0;
	}
	RCplayerR(RoundAct+1,false);
}

if(Version==undefined){
	var Version=0;
}

function RCplayer()
{
	if(Solid==0){
		Solid=1;
		var R=Rounds.length;
		Rounds[R]=new Array();
		Rounds[R]=Rounds[R-1];
		for(var nb in Rounds[1]["A"]){
			for(var x in Rounds[1]["A"][nb]){
				Rounds[R]["A"][nb][x]["NbL"]=Rounds[R]["A"][nb][x]["Nb"];
			}
		}
		for(var nb in Rounds[1]["D"]){
			for(var x in Rounds[1]["D"][nb]){
				Rounds[R]["D"][nb][x]["NbL"]=Rounds[R]["D"][nb][x]["Nb"];
			}
		}
	}
	
	var Contenu='<div id="Round" class="Round">1</div>';
	
	if(!isNormalInteger(NomOP) && NomOP!=''){
		Contenu+='<div class="NomOP">'+NomOP+'</div>';
	}
	
	Contenu+='<div class="ProgRounds">';
	Contenu+='<div class="btn"><a href="javascript:Stop();"><img class="Ico" src="../SkinRC/Stop.jpg"/></a></div>';
	Contenu+='<div class="btn"><a href="javascript:Play();"><img class="Ico" src="../SkinRC/Play.jpg"/></a></div>';
	for(var R in Rounds){
		var classR='RoundV';
		if(R==1){
			classR='RoundVO';
		}
		if(R==Rounds.length-1){
			Contenu+='<div class="'+classR+'" id="Round'+R+'" OnClick="RCplayerR('+R+',true);">F</div>';
		}
		else if(R>0){
			Contenu+='<div class="'+classR+'" id="Round'+R+'" OnClick="RCplayerR('+R+',true);">'+R+'</div>';
		}
	}
	Contenu+='</div>';
	
	if(Rounds[0]["Debut"]){
		Contenu+='<div>'+Rounds[0]["Debut"]+'</div>';
	}
	
	Contenu+='<div class="Flotte">';
	if(Version>=2){
		Contenu+='<div class="Polyg" id="PolyCh1"><div class="ChInfo"><span class="StyleOrange"><b>Chasseurs</b></span><br/>Remplissage : <span id="CoefR1">'+Chasse[1]["A"]["RCh"]+'</span>%<br/>Cohérence : +<span id="CoefC1">'+Chasse[1]["A"]["CoefCh"]+'</span>%<br/>Attaque : <span id="CoefChAtt1">'+(Chasse[1]["A"]["CoefChAtt"])+'</span>%<br/>Structure : <span id="CoefChStr1">'+(Chasse[1]["A"]["CoefChStr"])+'</span>%<br/>Ciblage : <span id="CoefChCib1">'+(Chasse[1]["A"]["CoefChCib"])+'</span>%</div></div>';
	}
	for(var nb in Rounds[0]["A"]){
		// Contenu+='<br/>';
		Contenu+='<span class="StyleGreen">'+Rounds[0]["A"][nb]["Pseudo"]+'</span> (Eff=<span class="StyleEff">'+Math.round(100*Rounds[0]["A"][nb]["Eff"],2)+'</span>%)';
		Contenu+='<br/><table class="FlotteU"><tr>';
		
		if(Version>=3){
			var OffV='';
			if(Rounds[0]["A"][nb]["OfficierNiv"]!='0'){
				OffV+='<div class="Officier">';
					OffV+='<img class="OfficierImg" src="../../Interface/Decors/Officiers/B'+Rounds[0]["A"][nb]["OfficierNivMax"]+'.jpg"/>';
					OffV+='<img class="OfficierImg" src="../../Interface/Decors/Officiers/'+Rounds[0]["A"][nb]["OfficierImg"]+'.png"/>';
					OffV+='<div class="OfficierB">'+Rounds[0]["A"][nb]["OfficierNom"]+'<br/>Niv Max : <span class="Off'+Rounds[0]["A"][nb]["OfficierNivMax"]+'">'+Rounds[0]["A"][nb]["OfficierNivMax"]+'</span></div>';
					OffV+='<img class="OfficierT" src="../../Interface/Decors/Officiers/'+Rounds[0]["A"][nb]["OfficierType"]+'.png"/>';
					OffV+='<div class="OfficierN">Niv : <span class="Off'+(Math.ceil(Rounds[0]["A"][nb]["OfficierNiv"]/10)*10)+'">'+Rounds[0]["A"][nb]["OfficierNiv"]+'</span></div>';
				OffV+='</div>';
				
				Contenu+='<td>';
					Contenu+='<div class="CaseOff">';
						Contenu+='<div class="VignetteOff">';
							Contenu+='<img class="VOffImg" src="../../Interface/Decors/Officiers/B'+Rounds[0]["A"][nb]["OfficierNivMax"]+'.jpg"/>';
							Contenu+='<img class="VOffImg" src="../../Interface/Decors/Officiers/'+Rounds[0]["A"][nb]["OfficierImg"]+'.png"/>';
							Contenu+='<div class="VNbOff"><span class="Off'+(Math.ceil(Rounds[0]["A"][nb]["OfficierNiv"]/10)*10)+'">'+Rounds[0]["A"][nb]["OfficierNiv"]+'</span></div>';
							Contenu+=OffV;
						Contenu+='</div>';
					Contenu+='</div>';
				Contenu+='</td>';
			}
		}
		for(var x in Rounds[1]["A"][nb]){
			var RP='';
			if(VaisseauxRP[x]){
				RP=VaisseauxRP[x];
			}
			Contenu+='<td><div class="Case" id="A'+nb+x+'"><div class="Vignette"><div class="VNb" id="A'+nb+x+'Nb">'+GrandNombre(Rounds[1]["A"][nb][x]["Nb"])+'</div><div class="VNbI">';
			if(Version>=1){
				Contenu+='<div class="VNbIn2" id="BarreA2'+nb+x+'Nb" style="width:'+Math.floor(50*(Rounds[1]["A"][nb][x]["Nb"]-Rounds[1]["A"][nb][x]["Deg"])/Rounds[1]["A"][nb][x]["Nb"])+'px;"></div>';
			}
			Contenu+='<div class="VNbIn" id="BarreA'+nb+x+'Nb" style="width:'+Math.floor(50*Rounds[1]["A"][nb][x]["Nb"]/Rounds[1]["A"][nb][x]["NbI"])+'px;"></div><div class="VNbIl" id="BarreA'+nb+x+'NbL" style="left:'+Math.floor(50*Rounds[1]["A"][nb][x]["Nb"]/Rounds[1]["A"][nb][x]["NbI"])+'px;width:'+Math.floor(50*(Rounds[1]["A"][nb][x]["NbL"]-Rounds[1]["A"][nb][x]["Nb"])/Rounds[1]["A"][nb][x]["NbI"])+'px;"></div></div><img src="../../Interface/Decors/Vaisseaux/'+Rounds[1]["A"][nb][x]["IMG"]+'.jpg"/><div class="VCaracs" id="A'+nb+x+'Caracs">'+Rounds[1]["A"][nb][x]["Caracs"]+'<br/><br/><p>'+RP+'</p></div></div></div></div></td>';
		}
		Contenu+='<td><div id="FlotteDA'+nb+'" class="FlotteD"><span class="Echec">Flotte détruite</span></div></td>';
		Contenu+='</tr></table>';
	}
	Contenu+='</div>';
	Contenu+='<div class="VS StyleRed">VS</div>';
	Contenu+='<div class="Flotte">';
	if(Version>=2){
		Contenu+='<div class="Polyg" id="PolyCh2"><div class="ChInfo"><span class="StyleOrange"><b>Chasseurs</b></span><br/>Remplissage : <span id="CoefR2">'+Chasse[1]["D"]["RCh"]+'</span>%<br/>Cohérence : +<span id="CoefC2">'+Chasse[1]["D"]["CoefCh"]+'</span>%<br/>Attaque : <span id="CoefChAtt2">'+(Chasse[1]["D"]["CoefChAtt"])+'</span>%<br/>Structure : <span id="CoefChStr2">'+(Chasse[1]["D"]["CoefChStr"])+'</span>%<br/>Ciblage : <span id="CoefChCib2">'+(Chasse[1]["D"]["CoefChCib"])+'</span>%</div></div>';
	}
	for(var nb in Rounds[0]["D"]){
		// Contenu+='<br/>';
		Contenu+='<span class="StyleGreen">'+Rounds[0]["D"][nb]["Pseudo"]+'</span> (Eff=<span class="StyleEff">'+Math.round(100*Rounds[0]["D"][nb]["Eff"],2)+'</span>%)';
		Contenu+='<br/><table class="FlotteU"><tr>';
		var DefTmp=new Array();
		var idDef=0;
		for(var x in Rounds[1]["D"][nb]){
			var NomDef=x;
			var Num=NomDef.charAt(0);
			if(Num=='0' || Num=='1' || Num=='2' || Num=='3' || Num=='4' || Num=='5' || Num=='6' || Num=='7' || Num=='8' || Num=='9'){
				NomDef=Rounds[1]["D"][nb][x]["Caracs"].split('<br/>')[0];
			}
			if(DefTmp[NomDef]!=undefined){
				DefTmp[NomDef]["Nb"]+=1*Rounds[1]["D"][nb][x]["Nb"];
				DefTmp[NomDef]["NbI"]+=1*Rounds[1]["D"][nb][x]["NbI"];
				DefTmp[NomDef]["NbL"]+=1*Rounds[1]["D"][nb][x]["NbL"];
				DefTmp[NomDef]["Deg"]=1*Rounds[1]["D"][nb][x]["Deg"];
			}
			else{
				DefTmp[NomDef]=new Array();
				DefTmp[NomDef]["idDef"]=idDef;
				DefTmp[NomDef]["IMG"]=Rounds[1]["D"][nb][x]["IMG"];
				DefTmp[NomDef]["Caracs"]=Rounds[1]["D"][nb][x]["Caracs"];
				DefTmp[NomDef]["Nb"]=1*Rounds[1]["D"][nb][x]["Nb"];
				DefTmp[NomDef]["NbI"]=1*Rounds[1]["D"][nb][x]["NbI"];
				DefTmp[NomDef]["NbL"]=1*Rounds[1]["D"][nb][x]["NbL"];
				DefTmp[NomDef]["Deg"]=1*Rounds[1]["D"][nb][x]["Deg"];
				idDef++;
			}
		}
		for(var x in DefTmp){
			var NomDef=DefTmp[x]["Caracs"].split('<br/>')[0];
			ix=DefTmp[x]["idDef"];
			var RP='';
			if(VaisseauxRP[x]){
				RP=VaisseauxRP[x];
			}
			var addIni='';
			if(DefTmp[x]["Nb"]==0){
				addIni='style="overflow:hidden;width:0px;height:0px;opacity:0;"';
			}
			Contenu+='<td><div class="Case" id="D'+nb+ix+'" '+addIni+'><div class="Vignette"><div class="VNb" id="D'+nb+ix+'Nb">'+GrandNombre(DefTmp[x]["Nb"])+'</div><div class="VNbI">';
			if(Version>=1){
				Contenu+='<div class="VNbIn2" id="BarreD2'+nb+ix+'Nb" style="width:'+Math.floor(50*(DefTmp[x]["Nb"]-DefTmp[x]["Deg"])/DefTmp[x]["Nb"])+'px;"></div>';
			}
			Contenu+='<div class="VNbIn" id="BarreD'+nb+ix+'Nb" style="width:'+Math.floor(50*DefTmp[x]["Nb"]/DefTmp[x]["NbI"])+'px;"></div><div class="VNbIl" id="BarreD'+nb+ix+'NbL" style="left:'+Math.floor(50*DefTmp[x]["Nb"]/DefTmp[x]["NbI"])+'px;width:'+Math.floor(50*(DefTmp[x]["NbL"]-DefTmp[x]["Nb"])/DefTmp[x]["NbI"])+'px;"></div></div><img src="../../Interface/Decors/Vaisseaux/'+DefTmp[x]["IMG"]+'.jpg"/><div class="VCaracs" id="D'+nb+ix+'Caracs"><br/>'+DefTmp[x]["Caracs"]+'<br/><br/><p>'+RP+'</p></div></div></div></div></td>';
		}
		Contenu+='<td><div id="FlotteDD'+nb+'" class="FlotteD"><span class="Echec">Flotte détruite</span></div></td>';
		Contenu+='</tr></table>';
	}
	Contenu+='</div>';
	
	Contenu+='<div id="Degats">'+Rounds[1]["Degats"]+'</div>';
	Contenu+='<div class="BarreProg"><div class="BarreIn" id="BarreZRC" style="width:'+Math.round(Rounds[1]["ZRC_A"]*600)+'px;"></div><div class="BarreAtt" id="BarreZRC_A">'+Math.round(Rounds[1]["ZRC_A"]*100,2)+'%</div><div class="BarreDef" id="BarreZRC_D">'+Math.round(Rounds[1]["ZRC_D"]*100,2)+'%</div><div class="BarreTitre">Valeur ZRC</div></div>';
	Contenu+='<div class="BarreProg"><div class="BarreIn" id="BarreStr" style="width:'+Math.round(Rounds[1]["Str_A"]*600)+'px;"></div><div class="BarreAtt" id="BarreStr_A">'+Math.round(Rounds[1]["Str_A"]*100,2)+'%</div><div class="BarreDef" id="BarreStr_D">'+Math.round(Rounds[1]["Str_D"]*100,2)+'%</div><div class="BarreTitre">Structure</div></div>';
	Contenu+='<div class="BarreProg"><div class="BarreIn" id="BarreAtt" style="width:'+Math.round(Rounds[1]["Att_A"]*600)+'px;"></div><div class="BarreAtt" id="BarreAtt_A">'+Math.round(Rounds[1]["Att_A"]*100,2)+'%</div><div class="BarreDef" id="BarreAtt_D">'+Math.round(Rounds[1]["Att_D"]*100,2)+'%</div><div class="BarreTitre">Force de frappe</div></div>';
	
	Contenu+='<div id="Events" class="Events">';
	for(var e in Rounds[1]["Events"]){
		Contenu+='<div class="EvL">'+Rounds[1]["Events"][e]+'</div>';
	}
	Contenu+='</div>';
	
	Contenu+='<br/><br/>';
	if(Rounds[0]["Date"]){
		Contenu+=Rounds[0]["Date"];
	}
	document.getElementById("Page").innerHTML=Contenu;
	
	setTimeout("RCplayerR(2,false);",2000);
	if(Version>=2){
		InitRenderer();
		ChasseO1["A1"]=Chasse[1]["A"]["OCh1"]/100;
		ChasseO1["A2"]=Chasse[1]["A"]["OCh2"]/100;
		ChasseO1["A3"]=Chasse[1]["A"]["OCh3"]/100;
		ChasseR1["A1"]=Chasse[1]["A"]["RCh1"]/100;
		ChasseR1["A2"]=Chasse[1]["A"]["RCh2"]/100;
		ChasseR1["A3"]=Chasse[1]["A"]["RCh3"]/100;
		
		ChasseO2["A1"]=Chasse[1]["D"]["OCh1"]/100;
		ChasseO2["A2"]=Chasse[1]["D"]["OCh2"]/100;
		ChasseO2["A3"]=Chasse[1]["D"]["OCh3"]/100;
		ChasseR2["A1"]=Chasse[1]["D"]["RCh1"]/100;
		ChasseR2["A2"]=Chasse[1]["D"]["RCh2"]/100;
		ChasseR2["A3"]=Chasse[1]["D"]["RCh3"]/100;
	}
}

function RCplayerR(R,unique){
	if(!unique && StopPlay){
		return;
	}

	RoundAct=R;
	for(var i=1;i<Rounds.length;i++){
		var classR='RoundV';
		if(i==R){
			classR='RoundVO';
		}
		document.getElementById("Round"+i).className=classR;
	}

	if(R==Rounds.length-1){
		document.getElementById("Round").innerHTML='F';
	}
	else{
		document.getElementById("Round").innerHTML=R;
	}
	
	for(var nb in Rounds[1]["A"]){
		var test=0;
		for(var x in Rounds[1]["A"][nb]){
			if(Rounds[R]["A"][nb][x]["NbL"]==Rounds[R]["A"][nb][x]["Nb"] && Rounds[R]["A"][nb][x]["Nb"]==0){
				document.getElementById("A"+nb+x).style.overflow='hidden';
				document.getElementById("A"+nb+x).style.width='0px';
				document.getElementById("A"+nb+x).style.height='0px';
				document.getElementById("A"+nb+x).style.opacity='0';
			}
			else{
				document.getElementById("A"+nb+x).style.overflow='visible';
				document.getElementById("A"+nb+x).style.width='52px';
				document.getElementById("A"+nb+x).style.height='52px';
				document.getElementById("A"+nb+x).style.opacity='1';
				test++;
			}
			var RP='';
			if(VaisseauxRP[x]){
				RP=VaisseauxRP[x];
			}
			document.getElementById("A"+nb+x+"Caracs").innerHTML=Rounds[R]["A"][nb][x]["Caracs"]+'<br/><br/><p>'+RP+'</p>';
			document.getElementById("A"+nb+x+"Nb").innerHTML=GrandNombre(Rounds[R]["A"][nb][x]["Nb"]);
			document.getElementById("BarreA"+nb+x+"Nb").style.width=Math.floor(50*Rounds[R]["A"][nb][x]["Nb"]/Rounds[R]["A"][nb][x]["NbI"])+'px';
			document.getElementById("BarreA"+nb+x+"NbL").style.left=Math.floor(50*Rounds[R]["A"][nb][x]["Nb"]/Rounds[R]["A"][nb][x]["NbI"])+'px';
			document.getElementById("BarreA"+nb+x+"NbL").style.width=Math.floor(50*(Rounds[R]["A"][nb][x]["NbL"]-Rounds[R]["A"][nb][x]["Nb"])/Rounds[R]["A"][nb][x]["NbI"])+'px';
			if(Version>=1){
				document.getElementById("BarreA2"+nb+x+"Nb").style.width=Math.floor(50*(Rounds[R]["A"][nb][x]["Nb"]-Rounds[R]["A"][nb][x]["Deg"])/Rounds[R]["A"][nb][x]["Nb"])+'px';
			}
		}
		if(test==0){
			document.getElementById("FlotteDA"+nb).style.width='150px';
			document.getElementById("FlotteDA"+nb).style.height='52px';
			document.getElementById("FlotteDA"+nb).style.opacity='1';
		}
		else{
			document.getElementById("FlotteDA"+nb).style.width='0px';
			document.getElementById("FlotteDA"+nb).style.height='0px';
			document.getElementById("FlotteDA"+nb).style.opacity='0';
		}
	}
	for(var nb in Rounds[1]["D"]){
		var test=0;
		var DefTmp=new Array();
		var idDef=0;
		for(var x in Rounds[1]["D"][nb]){
			var NomDef=x;
			var Num=NomDef.charAt(0);
			if(Num=='0' || Num=='1' || Num=='2' || Num=='3' || Num=='4' || Num=='5' || Num=='6' || Num=='7' || Num=='8' || Num=='9'){
				NomDef=Rounds[1]["D"][nb][x]["Caracs"].split('<br/>')[0];
			}
			if(DefTmp[NomDef]!=undefined){
				DefTmp[NomDef]["Nb"]+=1*Rounds[R]["D"][nb][x]["Nb"];
				DefTmp[NomDef]["NbL"]+=1*Rounds[R]["D"][nb][x]["NbL"];
				DefTmp[NomDef]["NbI"]+=1*Rounds[R]["D"][nb][x]["NbI"];
				DefTmp[NomDef]["Deg"]+=1*Rounds[R]["D"][nb][x]["Deg"];
			}
			else{
				DefTmp[NomDef]=new Array();
				DefTmp[NomDef]["idDef"]=idDef;
				DefTmp[NomDef]["IMG"]=Rounds[R]["D"][nb][x]["IMG"];
				DefTmp[NomDef]["Caracs"]=Rounds[R]["D"][nb][x]["Caracs"];
				DefTmp[NomDef]["Nb"]=1*Rounds[R]["D"][nb][x]["Nb"];
				DefTmp[NomDef]["NbI"]=1*Rounds[R]["D"][nb][x]["NbI"];
				DefTmp[NomDef]["NbL"]=1*Rounds[R]["D"][nb][x]["NbL"];
				DefTmp[NomDef]["Deg"]=1*Rounds[R]["D"][nb][x]["Deg"];
				idDef++;
			}
		}
		for(var x in DefTmp){
			ix=DefTmp[x]["idDef"];
			if(DefTmp[x]["NbL"]==DefTmp[x]["Nb"] && DefTmp[x]["Nb"]==0){
				document.getElementById("D"+nb+ix).style.overflow='hidden';
				document.getElementById("D"+nb+ix).style.width='0px';
				document.getElementById("D"+nb+ix).style.height='0px';
				document.getElementById("D"+nb+ix).style.opacity='0';
			}
			else{
				document.getElementById("D"+nb+ix).style.overflow='visible';
				document.getElementById("D"+nb+ix).style.width='52px';
				document.getElementById("D"+nb+ix).style.height='52px';
				document.getElementById("D"+nb+ix).style.opacity='1';
				test++;
			}
			var RP='';
			if(VaisseauxRP[x]){
				RP=VaisseauxRP[x];
			}
			document.getElementById("D"+nb+ix+"Caracs").innerHTML=DefTmp[x]["Caracs"]+'<br/><br/><p>'+RP+'</p>';
			document.getElementById("D"+nb+ix+"Nb").innerHTML=GrandNombre(DefTmp[x]["Nb"]);
			document.getElementById("BarreD"+nb+ix+"Nb").style.width=Math.floor(50*DefTmp[x]["Nb"]/DefTmp[x]["NbI"])+'px';
			document.getElementById("BarreD"+nb+ix+"NbL").style.left=Math.floor(50*DefTmp[x]["Nb"]/DefTmp[x]["NbI"])+'px';
			document.getElementById("BarreD"+nb+ix+"NbL").style.width=Math.floor(50*(DefTmp[x]["NbL"]-DefTmp[x]["Nb"])/DefTmp[x]["NbI"])+'px';
			if(Version>=1){
				document.getElementById("BarreD2"+nb+ix+"Nb").style.width=Math.floor(50*(DefTmp[x]["Nb"]-DefTmp[x]["Deg"])/DefTmp[x]["Nb"])+'px';
			}
		}
		if(test==0){
			document.getElementById("FlotteDD"+nb).style.width='150px';
			document.getElementById("FlotteDD"+nb).style.height='52px';
			document.getElementById("FlotteDD"+nb).style.opacity='1';
		}
		else{
			document.getElementById("FlotteDD"+nb).style.width='0px';
			document.getElementById("FlotteDD"+nb).style.height='0px';
			document.getElementById("FlotteDD"+nb).style.opacity='0';
		}
	}
	if(Version>=2 && Chasse[R]!=undefined){
		document.getElementById("CoefR1").innerHTML=Chasse[R]["A"]["RCh"];
		document.getElementById("CoefR2").innerHTML=Chasse[R]["D"]["RCh"];
		
		document.getElementById("CoefC1").innerHTML=Chasse[R]["A"]["CoefCh"];
		document.getElementById("CoefC2").innerHTML=Chasse[R]["D"]["CoefCh"];
		
		document.getElementById("CoefChStr1").innerHTML=Chasse[R]["A"]["CoefChStr"];
		document.getElementById("CoefChStr2").innerHTML=Chasse[R]["D"]["CoefChStr"];
		
		document.getElementById("CoefChAtt1").innerHTML=Chasse[R]["A"]["CoefChAtt"];
		document.getElementById("CoefChAtt2").innerHTML=Chasse[R]["D"]["CoefChAtt"];
		
		document.getElementById("CoefChCib1").innerHTML=Chasse[R]["A"]["CoefChCib"];
		document.getElementById("CoefChCib2").innerHTML=Chasse[R]["D"]["CoefChCib"];
		
		ChasseO1["A1"]=Chasse[R]["A"]["OCh1"]/100;
		ChasseO1["A2"]=Chasse[R]["A"]["OCh2"]/100;
		ChasseO1["A3"]=Chasse[R]["A"]["OCh3"]/100;
		ChasseR1["A1"]=Chasse[R]["A"]["RCh1"]/100;
		ChasseR1["A2"]=Chasse[R]["A"]["RCh2"]/100;
		ChasseR1["A3"]=Chasse[R]["A"]["RCh3"]/100;
		
		ChasseO2["A1"]=Chasse[R]["D"]["OCh1"]/100;
		ChasseO2["A2"]=Chasse[R]["D"]["OCh2"]/100;
		ChasseO2["A3"]=Chasse[R]["D"]["OCh3"]/100;
		ChasseR2["A1"]=Chasse[R]["D"]["RCh1"]/100;
		ChasseR2["A2"]=Chasse[R]["D"]["RCh2"]/100;
		ChasseR2["A3"]=Chasse[R]["D"]["RCh3"]/100;
	}

	document.getElementById("BarreZRC").style.width=Math.round(Rounds[R]["ZRC_A"]*600)+'px';
	document.getElementById("BarreStr").style.width=Math.round(Rounds[R]["Str_A"]*600)+'px';
	document.getElementById("BarreAtt").style.width=Math.round(Rounds[R]["Att_A"]*600)+'px';
	
	document.getElementById("BarreZRC_A").innerHTML=Math.round(Rounds[R]["ZRC_A"]*100,2)+'%';
	document.getElementById("BarreZRC_D").innerHTML=Math.round(Rounds[R]["ZRC_D"]*100,2)+'%';
	document.getElementById("BarreStr_A").innerHTML=Math.round(Rounds[R]["Str_A"]*100,2)+'%';
	document.getElementById("BarreStr_D").innerHTML=Math.round(Rounds[R]["Str_D"]*100,2)+'%';
	document.getElementById("BarreAtt_A").innerHTML=Math.round(Rounds[R]["Att_A"]*100,2)+'%';
	document.getElementById("BarreAtt_D").innerHTML=Math.round(Rounds[R]["Att_D"]*100,2)+'%';
	
	var Contenu='';
	for(var e in Rounds[R]["Events"]){
		Contenu+='<div class="EvL">'+Rounds[R]["Events"][e]+'</div>';
	}
	document.getElementById("Events").innerHTML=Contenu;
	
	if(Rounds[R]["Degats"]){
		document.getElementById("Degats").innerHTML=Rounds[R]["Degats"];
	}
	
	if(unique){
		StopPlay=true;
	}
	
	if(R<Rounds.length-1 && !unique && !StopPlay){
		R=1*R+1;
		setTimeout("RCplayerR("+R+",false);",1500);
	}
}

function GrandNombre (nombre) {
	if(!nombre){
		nombre=0;
	}
	var num=1;
	var signe="";
	if(nombre<0)
	{
		nombre=-1*nombre;
		signe="-";
	}
	nombre=Math.floor(nombre);
	while(nombre>=1000000)
	{
		num++;
		nombre=Math.floor(nombre/1000);
	}
	nombre=""+nombre;
	if(nombre.length>3)
	{
		nombre=nombre.substring(0,nombre.length-3)+Unites['decimalPoint']+nombre.substring(nombre.length-3, nombre.length-1);
	}
	if(num==1 && nombre.length>3)
	{
		nombre=nombre+" "+Unites['unitKilo'];
	}
	else if(num==2)
	{
		nombre=nombre+" "+Unites['unitMega'];
	}
	else if(num==3)
	{
		nombre=nombre+" "+Unites['unitGiga'];
	}
	else if(num==4)
	{
		nombre=nombre+" "+Unites['unitTera'];
	}
	else if(num==5)
	{
		nombre=nombre+" "+Unites['unitPeta'];
	}
	return signe+nombre;
}